<ui:composition template="../layouts/layoutInterior.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	<ui:define name="content">
		<div class="content_newForm">
				<div class="titleFormulario">
					<h3 style="margin-top: 0">Modificați membru</h3>
				</div>
		<div class="container-fluid">
			<h:form id="form" class="tabsInvert">
				<p:growl id="msgs" showDetail="true" />
				<p:accordionPanel multiple="true" activeIndex="0,1,2,3">
					<p:tab title="Informații personale / comunicare">
						<div class="tabAccordion">
							<div class="ui-g">
								<div class="ui-g-12 ui-md-6 ui-lg-4">
									<b><h:outputLabel for="dateCreate"
											value="Data înscrierii:" /></b>
									<p:calendar id="fechaCreacion" pattern="dd/MM/yyyy" locale="es"
										navigator="true" maxdate="#{currentDate}"
										value="#{userBean.usuario.dateCreate}"
										disabled="true" />
								</div>
								<div class="ui-g-12 ui-md-6 ui-lg-4">
									<b><h:outputLabel for="username" value="Utilizator:" /></b>
									<p:inputText id="username"
										value="#{userBean.usuario.username}" />
								</div>
								<div class="ui-g-12 ui-md-6 ui-lg-4">
									<b><h:outputLabel for="rolSelect" value="Rol:" /></b>
									<p:importEnum
										type="ro.per.online.persistence.entities.enums.RoleEnum"
										var="rol" allSuffix="ALL_ENUM_VALUES" />
									<p:selectOneMenu value="#{userBean.usuario.role}"
										id="rolSelect"
										required="true" requiredMessage="Selectați un rol" styleClass="form-control form-select">
										<f:selectItem itemLabel="Alege un rol" itemValue="" />
										<f:selectItems value="#{rol.ALL_ENUM_VALUES}" var="rol"
											itemLabel="#{rol.description}" itemValue="#{rol}" />
									</p:selectOneMenu>
									<p:messages for="rolSelect" autoUpdate="true" closable="true" />
								</div>

							</div>

							<div class="ui-g">
								<div class="ui-g-12 ui-md-6 ui-lg-4">
									<b><h:outputLabel for="nombre" value="Nume:" /></b>
									<p:inputText id="nombre"
										value="#{userBean.usuario.name}"
										requiredMessage="Introduzca el nombre" />
								</div>
								<div class="ui-g-12 ui-md-6 ui-lg-4">
									<b><h:outputLabel for="nif" value="CNP:" /></b>
									<p:inputText id="nif" value="#{userBean.usuario.personalData.idCard}" />
								</div>

								<div class="ui-g-12 ui-md-6 ui-lg-4">
									<b><h:outputLabel for="mobilePhone" value="Telefon :" /></b>
									<p:inputText id="mobilePhone"
										value="#{userBean.usuario.personalData.phone}" />
								</div>
							</div>

							<div class="ui-g">
								<div class="ui-g-12 ui-md-6 ui-lg-4">
									<b><h:outputLabel for="provinciaSelect" value="Provincia:" /></b>
									<p:selectOneMenu value="#{userBean.idProvincia}"
										id="provinciaSelect" styleClass="form-control form-select">
										<f:selectItem itemLabel="Selectioneaza una" itemValue="" />
										<f:selectItems value="#{userBean.provinces}"
											var="provincia" itemLabel="#{provincia.name}"
											itemValue="#{provincia.id}" />
									</p:selectOneMenu>
								</div>
								
							</div>
							<div class="ui-g">
<!-- 								<div class="ui-g-12 ui-md-6 ui-lg-4"> -->
<!-- 									<b><h:outputLabel -->
<!-- 											value="Usuario certificado:" /></b>  -->
<!-- 									<h:outputLabel value="SI" styleClass="form-control" -->
<!-- 										rendered="#{businessmanBean.usuario.firmaDigital}" /> -->
<!-- 									<h:outputLabel value="NO" styleClass="form-control" -->
<!-- 										rendered="#{not businessmanBean.usuario.firmaDigital}" /> -->
<!-- 								</div> -->
<!-- 								<div class="ui-g-12 ui-md-6 ui-lg-4"> -->
<!-- 								</div> -->
<!-- 								<div class="ui-g-12 ui-md-6 ui-lg-4 text-center"> -->
<!-- 									<p:commandButton value="Alertas" -->
<!-- 									icon="fa fa-bell"  -->
<!-- 									action="#{alertaBean.mostrarDialogoAlertas()}" immediate="true"/> -->
<!-- 								</div> -->
							</div>
						</div>
						<div class="botonesFormulario">
								<p:commandButton actionListener="#{userBean.restaurarClave}"
									value="Restaurar contraseña" />
								<p:commandButton
									action="#{userBean.guardarCambios(userBean.usuario)}"
									value="Guardar" />
							</div>
					</p:tab>


				</p:accordionPanel>
				
				<p:messages autoUpdate="true" closable="true" />

				<p:dialog id="dialog" widgetVar="dialogMessage" header="INFO"
					closable="true">
					<p:messages for="dialogMessage" autoUpdate="true" showDetail="true"
						showSummary="true" />
				</p:dialog>
			</h:form>

		</div>
		<div class="botonesFormulario">
					<p:button outcome="/users/users" value="Volver"
						icon="fa fa-fw fa-undo" />
				</div>
		</div>
	</ui:define>
</ui:composition>
