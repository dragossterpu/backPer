<ui:composition template="../layouts/layoutInterior2.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">

		<ui:define name="title">Ecologiștii</ui:define>
		<ui:define name="content">	
			<h:form id="formHome">
				<h3>STATISTICA ORGANIZAȚIEI #{statisticaBean.numeOrganizatie}</h3>	  
		    <p:outputPanel layout="block" id="panelDatos">
		    <p:tabView>
		        <p:ajax event="tabChange" listener="#{statisticaBean.cambioTipStatistica}" update="formHome:panelDatos" onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
		        <p:tab title="ORGANIZAȚIA JUDEȚEANĂ" id="membrii_organizatii">
		        
		        <h:panelGrid >
					<p:outputPanel>	           		            															
					<div class="filtro5">
  					 <div class="svg">
  					 <ui:include src="../layouts/include/svgMapaJudete.xhtml" />	
					
					 <div class="grafica">
						<H6>Rezultatele organizației #{statisticaBean.numeOrganizatie}</H6>
					</div>
					</div>
					<div class="svgRight">
					#{statisticaBean.numeOrganizatie}
					</div>
					</div>
					
					<div class="resultadosFiltro5">
					<p:outputPanel layout="block" id="panelStatistica">
					<p:dataTable var="localitate"
						value="#{statisticaBean.listaLocalitatiSuperiorProcentaj}" rows="10" styleClass="modHeaderTable"
						paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" pageLinks="4" 
						paginatorPosition="bottom" id="tablaLocalitati" paginator="true" resizableColumns="true"
						lazy="true" rowsPerPageTemplate="10,25,50" rowIndexVar="rowIndex"
						emptyMessage="Nu există niciun rezultat care să corespundă parametrilor căutării dvs." paginatorAlwaysVisible="false">
						<f:facet name="header">
							<p:outputPanel>
								<span class="titulo">ORGANIZAȚIA JUDEȚEANĂ #{statisticaBean.numeOrganizatie}</span>
								<p:commandButton id="toggler" type="button" value="Coloane"
									class="botonColumnas" icon="fa fa-th"/>
								<p:columnToggler datasource="tablaLocalitati" trigger="toggler">
									<p:ajax event="toggle" listener="#{statisticaBean.onToggle}" />
								</p:columnToggler>
							</p:outputPanel>
						</f:facet>
						<p:column headerText="Nume" style="width:18%;"
							sortBy="#{localitate.numeLocalitate}" >
							<b><h:outputText value="#{localitate.numeLocalitate}" /></b>
						</p:column>				
						<p:column headerText="Populație totală" style="width:17%;"
							sortBy="#{localitate.populatieTotala}">
							<b><h:outputText value="#{localitate.totalLocuitori}" /></b>
						</p:column>

						<p:column headerText="Drept de vot" style="width:19%;"
							sortBy="#{localitate.populatieVot}">
							<b><h:outputText value="#{localitate.locuitoriVot}" /></b>
						</p:column>	
						<p:column headerText="Membrii" style="width:15%;"
							sortBy="#{localitate.numarMembrii}">
							<b><h:outputText value="#{localitate.numarMembrii}" /></b>
						</p:column>	
						<p:column headerText="Procentaj" style="width:12%;"
							sortBy="#{localitate.procentaj}" >
							<b><h:outputText value="#{localitate.procentaj}" />%</b>
						</p:column>		
									
						<p:column headerText=" Situație" style="width:20%;" styleClass="text-center"
							sortBy="#{localitate.valoare}">
							<b><h:outputText styleClass="fa fa-plus-circle" value=" EXCELENT"
								rendered="#{localitate.valoare eq 'EXCELENT'}" /></b>
							<b><h:outputText styleClass="fa fa-check-circle" value=" BUN"
								rendered="#{localitate.valoare eq 'BUN'}" /></b>
							<b><h:outputText styleClass="fa fa-warning modColor" value=" ACCEPTABIL"
								rendered="#{localitate.valoare eq 'ACCEPTABIL'}" /></b>
							<b><h:outputText styleClass="fa fa-minus-circle" value=" INACCEPTABIL"
								rendered="#{localitate.valoare eq 'NECONVINGATOR'}" /></b>										
						</p:column>
						<f:facet name="footer">
       				 Total: 
						<h:outputText value="#{statisticaBean.totalMembrii}">
	    						<f:convertNumber type="number"
                                 maxIntegerDigits="9"
                                 maxFractionDigits="0"/>
							</h:outputText>
       				 membrii
    			</f:facet>
					</p:dataTable>
				</p:outputPanel>
					</div>
					</p:outputPanel>
				</h:panelGrid>		    
		       </p:tab>
		    </p:tabView>
		    </p:outputPanel>
		</h:form>		
		</ui:define>
	</ui:composition>
